{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{ListItem,Badge,Icon}from'react-native-elements';import{SwipeListView}from'react-native-swipe-list-view';var SwipeableFlatlist=function(_Component){_inherits(SwipeableFlatlist,_Component);var _super=_createSuper(SwipeableFlatlist);function SwipeableFlatlist(props){var _this;_classCallCheck(this,SwipeableFlatlist);_this=_super.call(this,props);_this.updateMarkAsRead=function(Notification){db.collection('all_notifications').doc(notification.doc_id).update({' notification_status':'read'});};_this.onSwipeValueChange=function(swipeData){var allNotifications=_this.state.allNotifications;var key=swipeData.key,value=swipeData.value;if(value<-Dimensions.get('window').width){var newData=_toConsumableArray(allNotifications);var prevIndex=allNotifications.findIndex(function(item){return item.key=key;});_this.updateMarkAsRead(allNotifications[prevIndex]);newData.splice(prevIndex,1);_this.setState({allNotifications:newData});}};_this.renderItem=function(data){React.createElement(ListItem,{leftElement:React.createElement(Icon,{name:\"book\",type:\"font_awesome\",color:\"#696969\"}),title:data.item.book_name,titleStyle:{color:'black',fontWeight:'bold'},subtitle:data.item.message,bottomDivider:true});};_this.renderHiddenItem=function(){React.createElement(View,{style:styles.rowBack},React.createElement(View,{style:[styles.backRightBtn,styles.backRightBtnRight]},React.createElement(Text,{style:styles.backTextWhite})),\" \");};_this.state={allNotifications:_this.props.allNotifications};return _this;}_createClass(SwipeableFlatlist,[{key:\"render\",value:function render(){return React.createElement(View,{style:styles.container},React.createElement(SwipeListView,{disableRightSwipe:true,data:this.state.allNotifications,renderItem:this.renderItem,renderHiddenItem:this.renderHiddenItem,rightOpenValue:-Dimensions.get('window').width,previewRowKey:'0',previewOpenValue:-40,previewOpenDelay:3000,onSwipeValueChange:this.onSwipeValueChange}));}}]);return SwipeableFlatlist;}(Component);export{SwipeableFlatlist as default};var styles=StyleSheet.create({container:{flex:1,justifyContent:'center',alignItems:'center'},backTextWhite:{color:'blue',fontWeight:'bold',textAlign:'center'},rowBack:{alignItems:'center',backgroundColor:'#29b6f6',flex:1,flexDirection:'row',justifyContent:'space-between',paddingLeft:15},backRightBtn:{alignItems:'center',bottom:0,justifyContent:'center',position:'absolute',top:0,width:100},backRightBtnRight:{backgroundColor:'#29b6f6',right:0}});","map":{"version":3,"sources":["C:/Users/aines/Desktop/book-santa-stage-11-master/components/SwipeableFlatlist.js"],"names":["React","Component","ListItem","Badge","Icon","SwipeListView","SwipeableFlatlist","props","updateMarkAsRead","Notification","db","collection","doc","notification","doc_id","update","onSwipeValueChange","swipeData","allNotifications","state","key","value","Dimensions","get","width","newData","prevIndex","findIndex","item","splice","setState","renderItem","data","book_name","color","fontWeight","message","renderHiddenItem","styles","rowBack","backRightBtn","backRightBtnRight","backTextWhite","container","StyleSheet","create","flex","justifyContent","alignItems","textAlign","backgroundColor","flexDirection","paddingLeft","bottom","position","top","right"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport {View,Text,StyleSheet,Dimensions} from 'react-native';\r\nimport {ListItem,Badge,Icon} from 'react-native-elements';\r\nimport { SwipeListView } from 'react-native-swipe-list-view';\r\nexport default class SwipeableFlatlist extends Component{\r\n    constructor(props){\r\n       super(props)\r\n           this.state={\r\n               allNotifications:this.props.allNotifications,\r\n               \r\n           }\r\n       \r\n    }\r\n    updateMarkAsRead=(Notification)=>{\r\n        db.collection('all_notifications').doc(notification.doc_id).update({\r\n           ' notification_status':'read'\r\n        })\r\n    }\r\n    onSwipeValueChange=swipeData=>{\r\n        var allNotifications=this.state.allNotifications\r\n        const{key,value}=swipeData;\r\n        if(value<-Dimensions.get('window').width){\r\n            const newData=[...allNotifications];\r\n            const prevIndex=allNotifications.findIndex(item=>item.key=key);\r\n            this.updateMarkAsRead(allNotifications[prevIndex]);\r\n            newData.splice(prevIndex,1);\r\n            this.setState({allNotifications:newData});\r\n        } \r\n    }\r\n    renderItem=data=>{\r\n        <ListItem leftElement={<Icon name='book' type='font_awesome' color='#696969'  />} \r\n                  title={data.item.book_name}\r\n                  titleStyle={{color:'black',fontWeight:'bold'}}\r\n                  subtitle={data.item.message}\r\n                  bottomDivider/>\r\n    }\r\n    renderHiddenItem=()=>{\r\n        <View style={styles.rowBack}>\r\n            <View style={[styles.backRightBtn, styles.backRightBtnRight]}> \r\n            <Text style={styles.backTextWhite}>\r\n                </Text>\r\n                 </View> </View> \r\n        \r\n    }\r\n    render(){\r\n        return(\r\n            <View style={styles.container}>\r\n                <SwipeListView disableRightSwipe\r\n                               data={this.state.allNotifications}\r\n                               renderItem={this.renderItem}\r\n                               renderHiddenItem={this.renderHiddenItem}\r\n                               rightOpenValue={-Dimensions.get('window').width}\r\n                               previewRowKey={'0'} \r\n                               previewOpenValue={-40}\r\n                               previewOpenDelay={3000}\r\n                               onSwipeValueChange={this.onSwipeValueChange} />\r\n                \r\n\r\n            </View>\r\n        )\r\n    }\r\n}\r\nconst styles=StyleSheet.create({\r\n    container:{\r\n        flex:1,\r\n        justifyContent:'center',\r\n        alignItems:'center'\r\n    },\r\n    backTextWhite:{\r\n        color:'blue',\r\n        fontWeight:'bold',\r\n        textAlign:'center',\r\n    },\r\n    rowBack: { \r\n        alignItems: 'center',\r\n         backgroundColor: '#29b6f6', \r\n         flex: 1, flexDirection: 'row', \r\n         justifyContent: 'space-between', \r\n         paddingLeft: 15, \r\n        },\r\n          backRightBtn: { \r\n              alignItems: 'center', \r\n              bottom: 0, \r\n              justifyContent: 'center', \r\n              position: 'absolute', \r\n              top: 0, \r\n              width: 100, \r\n            }, \r\n            backRightBtnRight: {\r\n                backgroundColor: '#29b6f6', \r\n                right: 0, },\r\n\r\n})"]},"metadata":{},"sourceType":"module"}